<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-950">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Sign in to Mall Billing System" />
    <title>Login | Mall Billing System</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            900: '#1e1b4b',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'ui-sans-serif', 'system-ui'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
</head>

<body class="h-full font-sans antialiased bg-gray-950 text-gray-100 flex items-center justify-center px-4">

    <!-- Background subtle grid pattern -->
    <div
        class="absolute inset-0 bg-[linear-gradient(to_right,#1f2937_1px,transparent_1px),linear-gradient(to_bottom,#1f2937_1px,transparent_1px)] bg-[size:4rem_4rem] opacity-30 pointer-events-none">
    </div>

    <!-- Glow accent -->
    <div
        class="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-brand-600/10 rounded-full blur-3xl pointer-events-none">
    </div>

    <div class="relative w-full max-w-sm">

        <!-- Brand mark -->
        <div class="flex flex-col items-center mb-8">
            <div
                class="w-12 h-12 rounded-2xl bg-brand-600 flex items-center justify-center shadow-lg shadow-brand-600/30 mb-4">
                <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
            </div>
            <h1 class="text-xl font-semibold text-white">Mall Billing System</h1>
            <p class="text-sm text-gray-400 mt-1">Sign in to your account</p>
        </div>

        <!-- Login Card -->
        <div class="bg-gray-900 border border-gray-800 rounded-2xl p-8 shadow-2xl">

            <!-- Error message -->
            {% if error %}
            <div
                class="flex items-center gap-2.5 mb-5 px-4 py-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-300 text-sm">
                <svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                {{ error }}
            </div>
            {% endif %}

            <!-- Flash messages (e.g. "Please log in…") -->
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="flex items-center gap-2.5 mb-5 px-4 py-3 rounded-lg text-sm
            {% if category == 'warning' %}bg-amber-500/10 border border-amber-500/30 text-amber-300
            {% elif category == 'info' %}bg-blue-500/10 border border-blue-500/30 text-blue-300
            {% else %}bg-gray-700 border border-gray-600 text-gray-300{% endif %}">
                <svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <form method="POST" action="{{ url_for('auth.login') }}" novalidate>

                <!-- Username -->
                <div class="mb-5">
                    <label for="username" class="block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wider">
                        Username
                    </label>
                    <input id="username" name="username" type="text" autocomplete="username" required autofocus
                        placeholder="e.g. admin" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-sm text-white
                   placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent
                   transition-colors duration-150" />
                </div>

                <!-- Password -->
                <div class="mb-6">
                    <label for="password" class="block text-xs font-medium text-gray-400 mb-2 uppercase tracking-wider">
                        Password
                    </label>
                    <input id="password" name="password" type="password" autocomplete="current-password" required
                        placeholder="••••••••" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-sm text-white
                   placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent
                   transition-colors duration-150" />
                </div>

                <!-- Submit -->
                <button id="login-btn" type="submit" class="w-full bg-brand-600 hover:bg-brand-700 active:bg-brand-700
                 text-white text-sm font-semibold py-2.5 px-4 rounded-lg
                 transition-colors duration-150 focus:outline-none focus:ring-2
                 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-gray-900">
                    Sign in
                </button>

            </form>
        </div>

        <!-- Footer note -->
        <p class="text-center text-xs text-gray-600 mt-6">
            Mall Billing System &mdash; Internal use only
        </p>

    </div>

</body>

</html>